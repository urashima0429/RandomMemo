# Custom Computing

## はじめに

### 計算機アーキテクチャとは
- 広義には，機能，性能，コスト要件を満たす計算機をどのように構成するか
    - 例）どのようなCPU，メモリを使うか，それらをどのように接続するか
- 狭義には，ソフトウェアから見たハードウェアの抽象化 = ISA (Instruction Set Architecture)
    - 例）どのような命令セットを持つか，どのようなレジスタを持つか

### ムーアの法則 (Moore's Law)
- 約2年ごとに集積回路の集積度が2倍になる法則（というよりかは観測結果）
    - Apple M3 MAX (2023), TSMC 3nm, 92 billion transistors
    - NVIDIA H100 (2023), TSMS 4nm, 80 billion transistors
- ただし近年は鈍化，物理的制約により終焉が近い

### デナード則 (Dennard scaling)

- 消費電力が一定の場合，トランジスタのサイズを小さくすると性能が向上する
$$ \text{Power} = \alpha C f V^2 + I V $$
- ここで
    - $\alpha$: キャパシタのスイッチング率
    - $C$: キャパシタの容量
    - $f$: クロック周波数
    - $V$: 電源電圧
    - $I$: **リーク電流**

- トランジスタのゲート幅と長さが $\frac{1}{k}$ になる場合の電力消費を考える🤔
    - 第一項はトータルで一定になる
        - キャパシタの容量$C$は $\frac{1}{k}$ 倍
        - 遅延は $\frac{1}{k}$ 倍 => クロック周波数$f$は $k$ 倍
        - 電源電圧$V$は $\frac{1}{k}$ 倍
    - 一方で，性能を考えると…？🤔
        - 同面積当たりのトランジスタ数は $k^2$ 倍
        - クロック周波数$f$は $k$ 倍
        - したがって同じ面積・消費電力で $k^3$ 倍の性能が得られる
   
- しかし，トランジスタのサイズが小さくなるとリーク電流（第二項）が支配的になる

### ポラックの法則 (Pollack’s rule)
- プロセッサの性能は複雑さの平方根に比例する
    - コアの複雑さを$2$倍にする => 理想的には性能は$\sqrt{2}$倍になる
    - コアの数を$2$倍にする => 理想的には性能は$2$倍になる
    - シングルコアからマルチコアへの移行

### Post-Moore's Law
- "No free lunch": 万能な解決策は存在しない
- トランジスタのスケーリングはもう限界
    - 技術的要因: Lithography, Power Wall, Heat
    - 経済的要因: fab (fabrication facility) cost
- 要は，汎用・マルチコアプロセッサのこれ以上の性能向上は難しい





